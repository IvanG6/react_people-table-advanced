{"version":3,"sources":["components/Navbar/Navbar.tsx","pages/HomePage/HomePage.tsx","pages/NotfoundPage/NotfoundPage.tsx","components/PeopleProvider/PeopleProvider.tsx","api.ts","components/hooks/usePeople.tsx","components/PersonName/PersonName.tsx","components/PersonRow/PersonRow.tsx","components/PeopleTable/PeopleTable.tsx","components/Loader/Loader.tsx","pages/PeoplePage/PeoplePage.tsx","components/NewPerson/NewPerson.tsx","App.tsx","index.tsx"],"names":["Navbar","className","role","isActive","cn","to","end","HomePage","NotfoundPage","PeopleContext","React","createContext","people","setPeople","loading","error","PeopleProvider","children","useState","setLoading","setError","useEffect","fetchPeople","a","fetch","then","json","catch","finally","contextValue","useMemo","Provider","value","usePeople","useContext","PersonName","person","selector","slug","sex","name","PersonRow","mother","find","mom","motherName","father","dad","fatherName","born","died","PeopleTable","location","useLocation","history","useNavigate","useSearchParams","searchParams","nameQuery","get","query","setQuery","sortBy","sortOrder","visiblePeople","filter","toLowerCase","includes","applyQuery","useCallback","debounce","newQuery","set","trimLeft","delete","toString","handleSort","setSort","sort","b","localeCompare","type","onChange","event","target","placeholder","style","width","map","elem","classNames","onClick","id","pathname","Loader","PeoplePage","length","NewPerson","navigate","useForm","mode","register","handleSubmit","formState","errors","isValid","getValues","reset","values","currentYear","Date","getFullYear","getPossibleParents","gender","possibleMothers","possibleFathers","autoComplete","onSubmit","data","newPerson","split","join","required","pattern","message","htmlFor","min","max","disabled","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a79c5853.chunk.js","sourcesContent":["import cn from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nexport const Navbar: React.FC = () => {\n  // const locationPathname: string = useLocation().pathname;\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink\n            className={({ isActive }) => cn({\n              'navbar-item': true,\n              'navbar-item is-tab': { 'is-active': isActive },\n            })}\n            to=\"/\"\n            end\n          >\n            Home\n          </NavLink>\n\n          <NavLink\n            className={({ isActive }) => cn({\n              'navbar-item': true,\n              'navbar-item is-tab': { 'is-active': isActive },\n            })}\n            to=\"/people\"\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","export const HomePage: React.FC = () => {\n  return (\n    <h1 className=\"title\">Home Page</h1>\n  );\n};\n","export const NotfoundPage = () => {\n  return (\n    <h1 className=\"title\">Page not found</h1>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { getPeople } from '../../api';\nimport { Person } from '../../types';\n\ntype GlobalContext = {\n  people: Person[];\n  setPeople: (people: Person[]) => void;\n  loading: boolean,\n  error: boolean\n};\n\nexport const PeopleContext = React.createContext<GlobalContext>({\n  people: [],\n  setPeople: () => {},\n  loading: false,\n  error: false,\n});\n\nexport const PeopleProvider: React.FC = ({ children }) => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<boolean>(false);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchPeople = async () => {\n      await getPeople()\n        .then(setPeople)\n        .catch(() => setError(true))\n        .finally(() => setLoading(false));\n    };\n\n    fetchPeople();\n  }, []);\n\n  const contextValue = useMemo(() => {\n    return {\n      people,\n      setPeople,\n      loading,\n      error,\n    };\n  }, [people, loading, error]);\n\n  return (\n    <PeopleContext.Provider value={contextValue}>\n      {children}\n    </PeopleContext.Provider>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nexport function getPeople(): Promise<Person[]> {\n  return fetch(API_URL)\n    .then(people => people.json());\n}\n","import { useContext } from 'react';\nimport { PeopleContext } from '../PeopleProvider/PeopleProvider';\n\nexport const usePeople = () => {\n  return useContext(PeopleContext);\n};\n","import { Link } from 'react-router-dom';\nimport ScrollIntoView from 'react-scroll-into-view';\nimport { Person } from '../../types';\n\ntype Props = {\n  person: Person;\n};\n\nexport const PersonName: React.FC<Props> = ({ person }) => {\n  return (\n    <ScrollIntoView selector={`#${person.slug}`}>\n      <Link\n        to={`/people/${person.slug}`}\n        className={person.sex === 'f'\n          ? 'has-text-danger'\n          : 'has-text-link'}\n      >\n        {person.name}\n      </Link>\n    </ScrollIntoView>\n  );\n};\n","import { Person } from '../../types';\nimport { usePeople } from '../hooks/usePeople';\nimport { PersonName } from '../PersonName';\n\ntype Props = {\n  person: Person;\n};\n\nexport const PersonRow: React.FC<Props> = ({ person }) => {\n  const { people } = usePeople();\n  const mother = people.find(mom => mom.name === person.motherName);\n  const father = people.find(dad => dad.name === person.fatherName);\n\n  return (\n    <>\n      <td>\n        <PersonName person={person} />\n      </td>\n      <td>{person.sex}</td>\n      <td>{person.born}</td>\n      <td>{person.died}</td>\n      <td>\n        {mother ? (\n          <PersonName person={mother} />\n        ) : (\n          person.motherName || '-'\n        )}\n\n      </td>\n      <td>\n        {father ? (\n          <PersonName person={father} />\n        ) : (\n          person.fatherName || '-'\n        )}\n      </td>\n    </>\n  );\n};\n","import React, { useState, useMemo, useCallback } from 'react';\nimport {\n  Link,\n  useLocation,\n  useNavigate,\n  useSearchParams,\n} from 'react-router-dom';\nimport debounce from 'lodash.debounce';\n\nimport classNames from 'classnames';\nimport './PeopleTable.scss';\n\nimport { PersonRow } from '../PersonRow';\nimport { usePeople } from '../hooks/usePeople';\nimport { Person } from '../../types';\n\nexport const PeopleTable: React.FC = () => {\n  const { people } = usePeople();\n  const location = useLocation();\n  const history = useNavigate();\n  const [searchParams] = useSearchParams();\n\n  const nameQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(nameQuery);\n\n  const sortableColumns = ['Name', 'Sex', 'Born', 'Died'];\n\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const getVisiblePeople = () => {\n    return (\n      people.filter((person: Person) => (\n        person.name.toLowerCase().includes(nameQuery)\n        || person.fatherName?.toLowerCase().includes(nameQuery)\n        || person.motherName?.toLowerCase().includes(nameQuery)))\n    );\n  };\n\n  const visiblePeople = useMemo(\n    getVisiblePeople,\n    [people, nameQuery],\n  );\n\n  const applyQuery = useCallback(\n    debounce((newQuery: string) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery.toLowerCase().trimLeft());\n      } else {\n        searchParams.delete('query');\n      }\n\n      history(`?${searchParams.toString()}`);\n    }, 500),\n    [],\n  );\n\n  const setSort = (value: string) => {\n    searchParams.set('sortBy', value);\n    searchParams.set('sortOrder', sortOrder === 'asc' ? 'desc' : 'asc');\n\n    history(`?${searchParams.toString()}`);\n  };\n\n  const handleSort = (value: string) => {\n    setSort(value);\n\n    visiblePeople.sort((a, b) => {\n      switch (value) {\n        case 'name':\n        case 'sex':\n          switch (sortOrder) {\n            case 'asc':\n              return b[value].localeCompare(a[value]);\n            default:\n              return a[value].localeCompare(b[value]);\n          }\n\n        case 'born':\n        case 'died':\n          switch (sortOrder) {\n            case 'asc':\n              return b[value] - a[value];\n            default:\n              return a[value] - b[value];\n          }\n\n        default:\n          return 0;\n      }\n    });\n  };\n\n  return (\n    <>\n      <div className=\"is-flex is-justify-content-space-between mb-3\">\n        <p className=\"control has-icons-left\">\n          <input\n            type=\"search\"\n            value={query}\n            onChange={event => {\n              setQuery(event.target.value);\n              applyQuery(event.target.value);\n            }}\n            placeholder=\"Find a person\"\n            className=\"input\"\n            style={{ width: '260px' }}\n          />\n          <span className=\"icon is-small is-left\">\n            <i className=\"fas fa-search\" />\n          </span>\n        </p>\n        <Link\n          to=\"/people/new\"\n          className=\"button is-success\"\n        >\n          Add a person\n        </Link>\n      </div>\n\n      <table\n        className=\"table is-hoverable\"\n      >\n        <thead>\n          <tr>\n            {sortableColumns.map(elem => (\n              <th\n                key={elem}\n                className={classNames('table__sort', {\n                  // eslint-disable-next-line max-len\n                  'table__sort--asc': sortOrder === 'asc' && sortBy === elem.toLowerCase(),\n                  // eslint-disable-next-line max-len\n                  'table__sort--desc': sortOrder === 'desc' && sortBy === elem.toLowerCase(),\n                })}\n                onClick={() => {\n                  handleSort(elem.toLowerCase());\n                }}\n              >\n                {elem}\n              </th>\n            ))}\n            <th>Mother</th>\n            <th>Father</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          {visiblePeople.map(person => (\n            <tr\n              id={person.slug}\n              key={person.slug}\n              className={\n                classNames(\n                  { 'has-background-warning': location.pathname === `/people/${person.slug}` },\n                )\n              }\n            >\n              <PersonRow person={person} />\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </>\n  );\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\n\nimport { PeopleTable } from '../../components/PeopleTable';\nimport { usePeople } from '../../components/hooks/usePeople';\nimport { Loader } from '../../components/Loader';\n\nexport const PeoplePage: React.FC = () => {\n  const { people, loading, error } = usePeople();\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  if (error) {\n    return (\n      <div className=\"title\">\n        <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n          Something went wrong\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <h1 className=\"title\">People page</h1>\n\n      {people.length > 0 && (\n        <PeopleTable />\n      )}\n    </div>\n  );\n};\n","import classNames from 'classnames';\nimport { useNavigate } from 'react-router-dom';\nimport { useForm } from 'react-hook-form';\nimport { useMemo } from 'react';\nimport { Person } from '../../types';\nimport { usePeople } from '../hooks/usePeople';\n\nexport const NewPerson = () => {\n  const navigate = useNavigate();\n  const { people, setPeople } = usePeople();\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n    getValues,\n    reset,\n  } = useForm<Person>({\n    mode: 'onChange',\n  });\n\n  const values = getValues();\n  const currentYear = new Date().getFullYear();\n\n  const onSubmit = (data: Person) => {\n    let newPerson = data;\n    const slug = `${newPerson.name.toLowerCase().split(' ').join('-')}-${newPerson.born}`;\n\n    newPerson = { ...newPerson, slug };\n\n    setPeople([...people, newPerson]);\n\n    navigate('/people');\n    reset();\n  };\n\n  const getPossibleParents = (gender: string) => {\n    return (\n      people.filter((person: Person) => (\n        person.sex === gender\n        && person.born < values.born\n        && person.died >= values.born))\n    );\n  };\n\n  const possibleMothers = useMemo(\n    () => getPossibleParents('f'),\n    [values.born],\n  );\n\n  const possibleFathers = useMemo(\n    () => getPossibleParents('m'),\n    [values.born],\n  );\n\n  return (\n    <div className=\"form\">\n      <button\n        type=\"button\"\n        className=\"form__back-btn button is-primary\"\n        onClick={() => navigate(-1)}\n      >\n        <span className=\"icon\">\n          <i className=\"fas fa-arrow-left\" />\n        </span>\n      </button>\n\n      <h1 className=\"title has-text-centered mb-6\">Add a new person</h1>\n\n      <form\n        autoComplete=\"off\"\n        onSubmit={handleSubmit(onSubmit)}\n      >\n        <div className=\"form__field\">\n          <input\n            type=\"text\"\n            {...register('name', {\n              required: '*Please, enter a name',\n              pattern: {\n                value: /^[A-Za-z][A-Za-z ]*$/,\n                message: '*Name should contain only letters',\n              },\n            })}\n            className={classNames(\n              'input',\n              {\n                'is-danger': errors?.name,\n                'is-success': values.name,\n              },\n            )}\n            placeholder=\"Enter a name\"\n          />\n          {errors?.name && (\n            <p className=\"help is-danger\">{errors?.name.message}</p>\n          )}\n        </div>\n\n        <div className=\"form__wrapper\">\n          <div className=\"form__field form__field--radio\">\n            <label htmlFor=\"male\" className=\"radio\">\n              <input\n                id=\"male\"\n                type=\"radio\"\n                {...register('sex', {\n                  required: '*Please, select a gender',\n                })}\n                value=\"m\"\n              />\n              &nbsp;Male\n            </label>\n          </div>\n\n          <div className=\"form__field form__field--radio\">\n            <label htmlFor=\"female\" className=\"radio\">\n              <input\n                id=\"female\"\n                type=\"radio\"\n                {...register('sex', {\n                  required: '*Please, select a gender',\n                })}\n                value=\"f\"\n              />\n              &nbsp;Female\n            </label>\n          </div>\n          {errors?.sex && (\n            <p className=\"help is-danger\">{errors?.sex.message}</p>\n          )}\n        </div>\n\n        <div className=\"form__field-wrapper is-flex\">\n          <div className=\"form__field\">\n            <input\n              type=\"number\"\n              {...register('born', {\n                required: '*Please, enter a year of birth',\n                min: {\n                  value: 1400,\n                  message: `*A year should be between 1400 and ${currentYear}`,\n                },\n                max: {\n                  value: currentYear,\n                  message: `*A year should be between 1400 and ${currentYear}`,\n                },\n              })}\n              className={classNames(\n                'input',\n                {\n                  'is-danger': errors?.born,\n                  'is-success': values.born,\n                },\n              )}\n              placeholder=\"Enter a year of birth\"\n            />\n            {errors?.born && (\n              <p className=\"help is-danger\">{errors?.born.message}</p>\n            )}\n          </div>\n\n          <div className=\"form__field\">\n            <input\n              type=\"number\"\n              {...register('died', {\n                disabled: false,\n                min: {\n                  value: values.born,\n                  message: '*Please, enter a valid year of death',\n                },\n                max: {\n                  value: +values.born + 150,\n                  message: '*A person can\\'t be older then 150',\n                },\n              })}\n              className={classNames(\n                'input',\n                {\n                  'is-danger': errors?.died,\n                  'is-success': values.died,\n                },\n              )}\n              placeholder=\"Enter a year of death\"\n              disabled={!values.born}\n            />\n            {errors?.died && (\n              <p className=\"help is-danger\">{errors?.died.message}</p>\n            )}\n          </div>\n        </div>\n\n        <div className=\"form__field-wrapper is-flex\">\n          <div className=\"form__field select\">\n            <select\n              {...register('motherName')}\n              className=\"form__select\"\n              disabled={!values.born}\n            >\n              <option value=\"\">\n                Select mother&apos;s name\n              </option>\n              {possibleMothers.map(mother => (\n                <option key={mother.slug} value={mother.name}>\n                  {mother.name}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form__field select\">\n            <select\n              {...register('fatherName')}\n              className=\"form__select\"\n              disabled={!values.born}\n            >\n              <option value=\"\">\n                Select father&apos;s name\n              </option>\n              {possibleFathers.map(father => (\n                <option key={father.slug} value={father.name}>\n                  {father.name}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n\n        <input\n          type=\"submit\"\n          value=\"Add\"\n          className=\"form__btn button is-success\"\n          disabled={!isValid}\n        />\n      </form>\n    </div>\n  );\n};\n","import './App.scss';\nimport 'bulma/css/bulma.min.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\nimport { Navigate, Route, Routes } from 'react-router-dom';\nimport { Navbar } from './components/Navbar';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { NotfoundPage } from './pages/NotfoundPage';\nimport { PeoplePage } from './pages/PeoplePage';\nimport { NewPerson } from './components/NewPerson';\nimport { PeopleProvider } from './components/PeopleProvider/PeopleProvider';\n\nexport const App: React.FC = () => {\n  return (\n    <div data-cy=\"app\">\n      <Navbar />\n\n      <main className=\"section\">\n        <div className=\"container\">\n          <PeopleProvider>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={<HomePage />}\n              />\n              <Route\n                path=\"people\"\n                element={(\n                  <PeoplePage />\n                )}\n              >\n                <Route\n                  path=\":slug\"\n                  element={(\n                    <PeoplePage />\n                  )}\n                />\n              </Route>\n              <Route\n                path=\"people/new\"\n                element={(\n                  <NewPerson />\n                )}\n              />\n              <Route path=\"*\" element={<NotfoundPage />} />\n              <Route path=\"/home\" element={<Navigate to=\"/\" />} />\n            </Routes>\n          </PeopleProvider>\n        </div>\n      </main>\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}